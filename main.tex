\documentclass[12pt, a4paper, oneside]{memoir}
\input{tex/style}
\begin{document}
\input{tex/frontmatter}
\mainmatter
\addtocounter{page}{1}
% CONTENT START

\chapter{Informacje wspólne}\label{ch:info}

Rozdział ten skupia się na informacjach mających znaczenie dla więcej niż jednego z laboratoriów.
W związku z tym, w celu niepowtarzania tychże informacji w każdym istotnym miejscu, umieszczone są one w przodującej
sekcji pracy.

\section{Dostępny sprzęt}\label{sec:harware}

\subsection{Raspberry Pi}\label{subsec:rpi}

\emph{Raspberry Pi}~\cite{pi} to~seria małych komputerów jednopłytkowych stworzonych przez Fundację Raspberry~Pi
w~Wielkiej Brytanii.
Celem fundacji jest szeroka dostępność systemów o~możliwościach obliczeniowych, co~wpływa na~ograniczony koszt płytki,
wykorzystanie standardowej architektury procesora i~modułów komunikacyjnych (\emph{WiFi}, \emph{Bluetooth}), a~zarazem
szerokie możliwości wykorzystania do~budowy urządzeń m.in.~Internetu Rzeczy.

Koszt najtańszego modelu wynosi ok.~20zł, a~najtańszy pełnoprawny komputer w~serii kosztuje ok.~50zł.

Urządzenia \emph{Raspberry Pi} wyposażone~są w~zestaw czterdziestu pinów~\cite{pinout} \emph{GPIO} pozwalających
na~budowę dowolnych połączeń wykorzystujących zasilanie 3,3V lub 5V\@.
Stanowią dzięki~temu przystępną drogę zarówno do~nauki i~użytkowania systemów komputerowych, jak~i~eksperymentacji
z~budowaniem własnych urządzeń.

\subsection{Moduły}\label{subsec:modules}

Dostępne prowadzącemu moduły:
\begin{itemize}
  \item Sense HAT~\cite{sense}
  \item Flick HAT~\cite{flick}
  \item Grove Base Kit~\cite{grove}
  \item Automation HAT Mini~\cite{automation}
  \item Enviro HAT~\cite{enviro}
  \item Unicorn HAT~\cite{unicorn}
  \item Traffic pHAT~\cite{traffic}
\end{itemize}

Niektóre moduły zostały wyłączone z~procesu selekcji:
\begin{itemize}
  \item Flick HAT -- firma producenta została rozwiązana~\cite{pisupply}, oficjalna dokumentacja ich~produktów
        nie~jest dostępna, a~konfiguracja nakładki nie~jest oczywista.
  \item Automation HAT Mini -- jest zaprojektowany do~pracy z~urządzeniami o~napięciu 12V lub 24V,
        co~przy nieprawidłowym użytkowaniu może uszkodzić płytkę.
  \item Unicorn HAT -- jest wyposażony w~macierz diod 8~x~8, podobnie do~\emph{Sense HAT}, który~ma~szersze możliwości.
\end{itemize}

Przydział pozostałych modułów opisany jest w~sekcjach przeznaczonych dla~każdego z~laboratoriów.
W związku z~ilością możliwych zastosowań zestawu \emph{Grove},
został on~wykorzystany (używając różne urządzenia zewnętrzne) dwukrotnie.

\section{Uzupełnienie: Alternatywy Raspberry Pi}\label{sec:alternate}

Wspominając o~tym urządzeniu nie~można zapomnieć o~podobnych urządzeniach dostępnych na~rynku.
W~ostatnich latach na~rynku pojawiły się~bowiem alternatywy o~porównywalnej lub~nawet korzystniejszej cenie,
lecz~to \emph{Raspberry Pi} pełniło ważną funkcję w~popularyzowaniu pojęcia komputerów jednopłytkowych jako~niedrogiego
narzędzia do~nauki i~prototypowania.
Nadal jest najlepiej udokumentowaną z~konkurentów, co~jest ważnym elementem przystępności w~środowisku naukowym.
Alternatywy często skupiają~się w~pierwszej kolejności na~udostępnieniu wyższej funkcjonalności, co~sprawia,~że
są~dobrą opcją dla~bardziej zaawansowanych użytkowników.

Osobnym rodzajem popularnych urządzeń jest~seria \emph{Arduino}, która jest~często przytaczana wraz~z~\emph{Raspberry Pi}.
Istnieją między nimi jednak istotne różnice, z~powodu których urządzenia~te nie~odgrywają tej~samej roli.
Urządzenia \emph{Arduino} nie~są pełnoprawnymi komputerami (wymagają osobnego urządzenia do zaprogramowania)
i~konkurują jedynie z~\emph{Raspberry Pi Pico}, a~nie~z~resztą płytek o~możliwości obsługi pełnego systemu operacyjnego.

\section{Połączenia fizyczne}\label{sec:connector}

\subsection{GPIO}\label{subsec:gpio}

Interfejs \emph{GPIO} płytki \emph{Raspberry Pi} składa~się z~czterdziestu pinów pozwalających płytce na~współpracę
z~innymi urządzeniami.
Część możliwości wymaga konfiguracji jądra systemu, co~jest przez~producenta udostępnione w~przystępny sposób.
Poniższy rysunek zaznacza te~dodatkowe możliwości; piny wchodzące w~ich skład można również użyć w~standardowy sposób.

\begin{figure}[ht]
  \caption{Układ pinów \emph{Raspberry Pi} -- adresacja BCM}
  \label{fig:pinout}
  \centering
  \copyrightbox{
    \includegraphics[height=35mm]{media/pinoutxyz_bcmPinout}
  }{
    \textcopyright pinout.xyz; Philip~Howard, RogueM i~inni
  }
\end{figure}

Drugą dostępną metodą adresacji jest~adresacja fizyczna, rozpoczynająca~się od~1~i~2 odnosząca~się odpowiednio
do~pinów 3,3V i~5V po~lewej stronie powyższego rysunku, numerując kolejne kolumny tegoż rysunku.

Piny oznaczone mianem \emph{GCLK} udostępniają dostęp do~wbudowanego zegara sprzętowego.
\emph{PWM}, \emph{I²C}, \emph{UART}, i~\emph{SPI} zostaną omówione w~sekcji~\ref{sec:protocol} opisującej
połączenia logiczne.

\subsection{Grove}\label{subsec:grove}

Moduł \emph{Grove Base HAT} jest~podłączony do~płytki \emph{Raspberry~Pi} przy pomocy interfejsu \emph{GPIO}
i~pełni funkcję adaptera tego~interfejsu na~własny system złączy~\cite{grovedesc}.
Moduł wyprowadza interfejs \emph{GPIO}, jednak wiele połączeń pokrywa się z~systemem \emph{Grove},
w~związku z~czym wykorzystanie ich nie~jest bezpieczne bez~wcześniejszego zrozumienia tego~systemu.
Na~module \emph{Grove Base HAT} złącza podpisane są~przy użyciu numeracji \emph{BCM}.

Połączenia fizyczne wykorzystywane przez interfejs \emph{Grove} są~podobne do~standardowych połączeń \emph{I²C}\@.
Połączenia \emph{VCC} i~\emph{GND} zawsze dostarczają elementom zasilanie,
jednak pozostałe~dwa zachowują~się w~różny sposób w~zależności od~rodzaju złącza.
Połączenia te~wykorzystują interfejs \emph{GPIO} do~komunikacji z~płytką, więc~wykorzystanie danego portu \emph{Grove}
wraz z~pinami \emph{GPIO} o~tej~samej numeracji wiąże~się z~konfliktem.

\begin{figure}[ht]
  \caption{Diagram złączy \emph{Grove Base HAT}}
  \label{fig:grovehat}
  \centering
  \copyrightbox{
    \includegraphics[height=7cm]{media/botland_GroveBaseHat}
  }{
    \textcopyright Botland B. Derkacz Sp. k.
  }
\end{figure}

\begin{table}[ht]
  \caption{Opis złączy \emph{Grove Base HAT}}
  \label{tab:grove}
  \begin{tabularx}{\linewidth}{@{}lX@{}}
    GPIO      & Bezpośrednie połączenie do złącza \emph{GPIO} płytki \emph{Raspberry~Pi}.
                Może powodować konflikty ze złączami \emph{Grove}. \\
    I²C       & Zgodnie ze~standardowymi łączeniami, zewnętrzny pin pełni funkcję zegara, a~wewnętrzny przesyłu
                danych. \\
    Cyfrowy   & Zewnętrzny pin pełni funkcję pierwszego cyfrowego łącza wejścia/wyjścia, a~wewnętrzny jest łączem
                dodatkowym dla~modułów wykorzystujących dwie linie. \\
    UART      & Specjalizowana forma trybu cyfrowego, pierwszy pin odbiera dane od~podłączonego urządzenia, a~drugi
                wysyła. \\
    Analogowy & Wejścia analogowe są~podłączone do~wbudowanego przetwornika analogowo-cyfrowego, co~pozwala
                na~ich~użycie z~płytką \emph{Raspberry~Pi}, nie~posiadającej natywnie takiej możliwości.
                Podobnie do~trybu cyfrowego, linia zewnętrzna jest wykorzystywana w~pierwszej kolejności, a~wewnętrzna
                w~drugiej. \\
    PWM       & Port \emph{PWM} podłączony~jest do~sprzętowego złącza \emph{PWM} \emph{Raspberry~Pi}.
                Pozostałe złącza mogą~być używane jako~\emph{PWM} na~poziomie oprogramowania.
                Złącze sprzętowe pozwala na~lepszą dokładność przy~wysokich częstotliwościach, jednak wchodzi w~konflikt
                z~niektórymi innymi funkcjami płytki. \\
    SWD       & Dostęp do wbudowanego oprogramowania modułu Grove Base HAT\@.
  \end{tabularx}
\end{table}

\section{Połączenia logiczne}\label{sec:protocol}

\subsection{PWM}\label{subsec:pwm}

Technika, nie protokół

\subsection{I²C}\label{subsec:i2c}

\subsection{I²S}\label{subsec:i2s}

\subsection{SPI}\label{subsec:spi}

\subsection{UART}\label{subsec:uart}

\section{Oprogramowanie}\label{sec:software}

\subsection{Raspberry Pi OS}\label{subsec:rpi-os}

Dystrybucja GNU/Linux bazująca na dystrybucji Debian.

\subsection{Bash}\label{subsec:bash}

Powłoka wykorzystywana często w terminalach GNU/Linux wraz z językiem skryptowym.

\subsection{Python}\label{subsec:py}

Język skryptowy.

\subsection{rpi-lgpio}\label{subsec:lgpio}

Biblioteka do użytkowania interfejsu GPIO zastępująca RPi.GPIO\@.

\subsection{marimo}\label{subsec:marimo}

Środowisko-notatnik Python zastępujące Jupyter.

\section{Wdrożenie rozwiązania}\label{sec:deployment}

\subsection{Udostępnianie}\label{subsec:share}

Skrypt bash dostępny na moim serwerze, docelowo uczelnianym.

\subsection{Testy rozwiązań}\label{subsec:tests}

Testy rozwiązań studentów.

\subsection{Bezpieczeństwo}\label{subsec:security}

Opis bezpieczeństwa udostępniania i testów.

\chapter{Laboratorium I}\label{ch:lab-1}

\section{Wybrany sprzęt}\label{sec:lab1-hw}

\section{Dodatkowe oprogramowanie}\label{sec:lab1-sw}

\section{Rozwiązanie}\label{sec:lab1-sol}

\chapter{Laboratorium II}\label{ch:lab2}

\section{Wybrany sprzęt}\label{sec:lab2-hw}

\section{Dodatkowe oprogramowanie}\label{sec:lab2-sw}

\section{Rozwiązanie}\label{sec:lab2-sol}

\chapter{Laboratorium III}\label{ch:lab3}

\section{Wybrany sprzęt}\label{sec:lab3-hw}

\section{Dodatkowe oprogramowanie}\label{sec:lab3-sw}

\section{Rozwiązanie}\label{sec:lab3-sol}

\chapter{Laboratorium IV}\label{ch:lab4}

\section{Wybrany sprzęt}\label{sec:lab4-hw}

\section{Dodatkowe oprogramowanie}\label{sec:lab4-sw}

\section{Rozwiązanie}\label{sec:lab4-sol}

\chapter{Laboratorium V}\label{ch:lab5}

\section{Wybrany sprzęt}\label{sec:lab5-hw}

\section{Dodatkowe oprogramowanie}\label{sec:lab5-sw}

\section{Rozwiązanie}\label{sec:lab5-sol}

% CONTENT END
\bibliography{bibliography}
\input{tex/backmatter}
\input{tex/appendix}
\end{document}
